# 1から学ぶLinux入門ハンズオン

## Chapter.0 事前準備

### Windowsの方

1. Cygwinをインストールしてください。

   [Cygwinダウンロードサイト](https://cygwin.com/install.html)

2. Java 8をインストールしてください。

    [Java 8ダウンロードサイト](http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html)

3. Cygwin上で以下のコマンドを入力して表示されるバージョンが`1.8.X_XX`になっていることを確認してください。

```
$ java -version
```

### Macの方

1. Java 8をインストールしてください。

    [Java 8ダウンロードサイト](http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html)

2. ターミナルを開き、以下のコマンドを入力して表示されるバージョンが`1.8.X_XX`になっていることを確認してください。

```
$ java -version
```

3. 下記のコマンドを入力しHomebrewをインストールしてください。

```
$ /usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
```

4. 下記のコマンドを入力しwgetコマンドをインストールしてください。

```
$ brew install wget
```

5. 下記のコマンドを入力してwgetのバージョンが表示されたらインストール成功です。

```
$ wget -V
```

## Chapter.1 フォルダ作成

まずは今回のハンズオンのルートフォルダとなるフォルダを作成しましょう。

ここからは全てコマンドライン操作で進めます。

適当なフォルダ(コマンドライン起動時のデフォルトでもOK)で下記のコマンドを打ちます。

```
$ mkdir linuxhandson
```

### mkdir

このコマンドは"make directory"のことを指し、フォルダを作るコマンドです。

下位の階層も合わせて作りたいときは`-p`のオプションを付けて実行します。

```
$ mkdir -p first/second/third
```

こうすることで次のようなフォルダ構成が作られます。

```
first/
└── second
    └── third
```

## Chapter.2 フォルダ移動

続いて、さきほど作成したフォルダに移動してみましょう。

```
$ cd linuxhandson
```

### cd

このコマンドは"change directory"を指し、今いるフォルダを変更するコマンドです。

これで`linuxhandson`というフォルダの中に移動することができました。見た目ではあまり変化はないと思いますが、ちゃんと移動していることを確認する方法があります。

```
$ pwd
```

このコマンドを打つと現在自分がいるフォルダまでのフルパスが出力されます。

では、`linuxhandson`フォルダに移動する前はどのように表示されていたのか確認してみましょう。

```
$ cd ..
$ pwd
```

1つ目の`cd`コマンドの後ろにある`..(ドットふたつ)`は、"1つ上の階層"という特別な意味があります。従って、今いるフォルダから一階層上に移動することができます。

表示されたフォルダパスが変わったことを確認できましたか？

## Chapter.3 ファイル作成

では、`linuxhandson`フォルダにファイルを作成してみましょう。

```
$ cd linuxhandson
$ echo first line. > text.txt
```

### echo

このコマンドは標準出力を行うコマンドです。

### >

これはコマンドというよりは、出力先を指定する演算子のようなものだと考えてください。"リダイレクト"といいます。
リダイレクトの左側の処理結果を、リダイレクトの右側に出力することができます。

本当にファイルができているか確認してみましょう。

```
$ ls
```

### ls

このコマンドはファイルやフォルダを一覧表示するコマンドです。結果は下記の通りになったかと思います。

```
$ ls
text.txt
$
```

上記では"first line."という標準出力を`text.txt`に出力するということになります。簡単にファイルを作成することができましたね。

続きまして、本当にファイルの中に"first line."と書かれているか確認してみましょう。

```
$ cat text.txt
```

### cat

これはファイルの中を表示するコマンドです。結果は下記の通りになると思います。

```
first line.
```

`>`は出力先をファイルにすることができるのは上記で説明しましたが、2回目以降は上書きになります。下記のコマンドを実行してみてください。

```
$ echo second line. > text.txt
```

ファイルの中を確認してみましょう。結果は下記のようになっていませんか？

```
second line.
```

`>`は左側の結果を右側に指定された出力先に単純に上書きされてしまうことがわかりました。それでは追記するにはどうすればいいのでしょうか？

```
$ echo first line. > text.txt
$ echo second line. >> text.txt
```

### >>

リダイレクトが2つ連なった`>>`は末尾に追記することができるコマンドです。ファイルの中を確認してみましょう。

結果は期待通り下記のようになっていますか？

```
first line.
second line.
```

続いては、リダイレクト処理は上書きか末尾に追記しかできないので、ファイルの編集方法を学びましょう！

## Chapter.4 ファイル編集

Linuxコマンドには標準でテキストエディタが用意されていますが、皆さんよくご存知のサクラエディタやSublime Textみたいなリッチなエディタを想像してはいけませんよ？
もちろんコマンドラインから操作するエディタです。

それでは、先ほど作成した`text.txt`を編集してみましょう。

```
$ vi text.txt
```

### vi

このコマンドは引数に指定したファイルをviエディタと呼ばれるテキストエディタで開くコマンドです。ただし、コマンド実行後はコマンドモードになっているので、ファイルの編集ができないと思います。そこで、編集モードに変更してみましょう。

#### a

viエディタのコマンドモードの状態で`a`キーを押すと編集モードに変わります。編集モードに切り替わると左下に「-- INSERT --」と表示されます。

ファイルの中を下記のように編集してみてください。

```
1 first line.
2 ---
3 second line.
4 ---
5 third line.
```

上記の変更を保存するためには再度コマンドモードに戻る必要があります。

#### esc

編集モードで`esc`キーを押すとコマンドモードに戻ることができます。では、保存してみましょう。

#### :w

コロンを入力してコマンド待機状態にして、`w`(write)を入力してエンターキーを押します。すると左下に「"text.txt" 5L, 45C written」と表示されると思いますが、これは「text.txt」ファイルを5行で45文字(charcter)で保存しましたよ。というメッセージです。

では編集が終わったので、viエディタを終了しましょう。

#### :q

コマンドモードにて終了(quit)を表す`:q`を入力しエンターキーを押すとviエディタが終了します。

## Chapter.5 ファイルコピー

さきほど作成した`text.txt`ファイルをコピーしてみましょう。

```
$ cp text.txt text2.txt
```

### cp

これは"copy"を意味し、ファイルのコピーを行います。第一引数にコピーしたいファイルを指定し、第二引数にコピー先のファイルを指定します。

では、コピーが成功したかどうか、ファイル一覧を表示して確認してください。

下記のようにファイルがコピーできていればOKです。

```
text.txt        text2.txt
```

`cp`コマンドの第二引数をファイルパスで指定すると階層をまたいだコピーも可能です。`tocopy`というフォルダを作り、そのフォルダ内に`text3.txt`をコピーして作成してみましょう。

下記のようなフォルダ構成にファイルができていれば成功です。

```
├── text.txt
├── text2.txt
└── tocopy
    └── text3.txt
```

できましたか？念のため下記に実行したコマンドを書いておきます。

```
$ mkdir tocopy
$ cp text.txt tocopy/text3.txt
```

## Chapter.6 ファイル移動

続きまして、ファイルを移動してみましょう。

```
$ mv text2.txt tocopy/text2.txt
```

### mv

これは"move"を指す、ファイルやフォルダを移動するコマンドです。上記のコマンドを実行することで`tocopy`フォルダ内にtext2.txtが移動します。ファイル一覧を表示させて確認してください。

`ls`コマンドには引数を渡すことで、その階層のファイル一覧を表示する機能もあります。`tocopy`フォルダ配下のファイル一覧を表示したい場合は下記のように実行してみてください。

```
$ ls tocopy/
```

そして、`mv`コマンドにはもう一つの機能があります。それは「**名前の変更**」です。`text.txt`ファイルを`text4.txt`に変更してみましょう。

```
$ mv text.txt text4.txt
```

このように移動先(第二引数)に元ファイルとは異なる名前を指定した場合、リネームすることができます。

それでは`text4.txt`ファイルを`tocopy`フォルダに移動しておいてください。

## Chapter.7 ファイル削除

続きまして、ファイルの削除をしてみましょう。`tocopy`フォルダ内にある`text2.txt`ファイルを削除します。

```
$ rm tocopy/text2.txt
```

### rm

先程の`ls`コマンドのときと同様の考え方で、`rm`コマンドの引数にもファイルパスを指定することで階層をまたいで削除することができます。もちろんファイルと同じ階層に移動してファイル名のみを指定して実行することも可能です。

実は`rm`コマンドにはもうひとつ機能がありまして・・・・予想つきますよね？

そうです！フォルダを削除することができます。

```
$ rm tocopy
```

上記のように実行したくなりますが、このまま実行すると下記のようなエラーとなり削除することができませんん。

```
rm: tocopy/: is a directory
```

フォルダを削除するときはオプションを付与する必要があります。

### -d

フォルダ(directory)を削除するオプションです。と思いきやフォルダ内にファイルが存在する場合は削除することができません。

空のフォルダであれば`-d`オプションを付与するだけで削除することができるのですが、ファイルが存在する場合はフォルダ内のファイルを再帰的に削除するオプションも付与する必要があります。

### -r

`-r`を付与することでフォルダ内にファイルが存在しても再帰的(recursive)に削除することができます。

```
$ rm -d -r tocopy
```

複数のオプションは下記のようにまとめて記述することもできます。

```
$ rm -dr tocopy
```

## Chapter.8 ファイルダウンロード

インターネット上にあるファイルを取得することももちろん可能なので、そちらを試してみましょう。

```
$ wget https://www.dropbox.com/s/n82s39vdsk74l5o/memo.txt
```

ログが色々表示されて進捗インジケータが100%になればダウンロード完了です。下記のような表示が進捗インジケータです。

```
100%[==============================================================================>] 77
```

無事にファイルのダウンロードが完了しているのか、ファイル一覧を表示したり、ファイルの中身を確認してみてください。

## Chapter.9 プログラムを動かす

では、我々のお仕事でもありますプログラムを書いてみましょうか。お約束の例のコードです。今回はJavaでチャレンジしてみます。

### **Hello World!**

処理は一つだけにしましょう。標準出力へ"Hello world!"が表示されるMainクラスを作成してください。
下記にサンプルコードを載せておきますので、自信のない方は真似て入力してください。ファイル名は`Main.java`にしましょう。

```java
public class Main {
    public static void main(String[] args) {
        System.out.println("Hello world!");
    }
}
```

### **コンパイル**

では先程作ったMain.javaをコンパイルしましょう！

```
$ javac Main.java
```

#### javac

Javaでソースファイルをコンパイルするときに使うコマンドが`javac`です。皆さんがよく使われているIDEでデバッグ実行などを行ったときも内部的にはこのコマンドが実行されてクラスファイルが作成されています。

ファイル一覧を表示してコンパイルされた`Main.class`が存在するか確認し、きちんと生成されていれば実行してみましょう。

```
java Main
```

#### java

これはJavaのクラスファイルを指定して実行するコマンドです。実行結果が下記の通り表示されていればOKです！

```
$ java Main
Hello world!
$
```

## Chapter.10 演習問題

おめでとうございます！！ここまでくればあなたもLinux使いですね。コマンドラインでの操作も随分慣れたのではないでしょうか？

では最後の課題です。
下記に記す課題をコマンドライン上でチャレンジしてください。

1. 演習用のフォルダ`exercise`を作成してください。その下層には`src`と`bin`の2つのフォルダを作成してください。
2. ソースファイルは`src`フォルダへ、クラスファイルは`bin`フォルダへ格納しコンパイルコマンドは`exercise`フォルダにて実行すること。
3.

